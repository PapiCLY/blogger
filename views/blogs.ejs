<%- include('partials/header.ejs') %>
<div><h3>Create a new blog post, already!</h3></div>


<form action="/submit" method="POST" class="form-field">
    <input name="bloggerName" type="text" class="feedback-input" placeholder="Enter Name" />
    <input name="title" type="text" class="feedback-input" placeholder="Enter Blog Title" />
    <textarea name="blogPost" class="feedback-input area" placeholder="Post your thoughts"></textarea>
    <input type="submit" value="SUBMIT" class="form-btn"/>
  </form>

<div class="blog-grid">
    <div class="grid-container">
        <% posts.forEach(function(post){ %>
            <div class="grid-item">
                <ul>
                    <li>Blogger: <%= post.bloggerName %></li>
                    <li>Title: <%= post.postTitle %></li>
                    <li>Thoughts: <%= post.bloggerPost %></li>
                    <li><%= post.timeStamp %></li>
                    <a href="/edit/<%= post.index %>"></a>
                </ul>
                 
                 <form action="/edit/<%= post.index %>" method="GET"> 
                    <!-- Hidden input to pass the index or ID of the post -->
                   <input type="hidden" name="index" value="<%= post.index %>">
                    <button type="submit" class="edit-button">Edit</button>
                 </form> 
               
                <form action="/delete" method="POST">
                    <!-- Hidden input to pass the index or ID of the post -->
                    <input type="hidden" name="index" value="<%= post.index %>">
                    <button type="submit" class="delete-button">Delete</button>
                </form>
            </div>
            <% }) %>
    </div>
</div>
<%- include('partials/footer.ejs') %>